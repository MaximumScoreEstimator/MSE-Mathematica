testDefault =
  <|
   "function" -> Cinequalities,
   "parameters" -> {},
   "evaluate" -> True,
   "TestID" -> "Not set a TestID yet",
   "MemoryConstraint" -> Quantity[20, "Kilobytes"],
   "TimeConstraint" -> Quantity[.1, "Seconds"]
   |>;

tests =
{
 <|"TestID" -> "various",
  "Input" -> 
   { f, {{{{{1, 1, 1}}, {{1, 2, 2}}, {{1, 3, 2}}}, {{{1, 1, 2}}, {{1, 2,
        1}}, {{1, 3, 1}}}}, {{{{2, 1, 1}}, {{2, 1, 1}}, {{2, 2, 
       2}}, {{2, 2, 2}}}, {{{2, 1, 2}}, {{2, 1, 3}}, {{2, 2, 1}}, {{2,
        2, 3}}}}, {{{{3, 1, 1}}, {{3, 1, 1}}, {{3, 1, 1}}, {{3, 2, 
       2}}, {{3, 2, 2}}, {{3, 2, 2}}, {{3, 3, 3}}, {{3, 3, 3}}, {{3, 
       3, 3}}, {{3, 4, 4}}, {{3, 4, 4}}, {{3, 4, 4}}}, {{{3, 1, 
       2}}, {{3, 1, 3}}, {{3, 1, 4}}, {{3, 2, 1}}, {{3, 2, 3}}, {{3, 
       2, 4}}, {{3, 3, 1}}, {{3, 3, 2}}, {{3, 3, 4}}, {{3, 4, 
       1}}, {{3, 4, 2}}, {{3, 4, 3}}}}} },
  "ExpectedOutput" -> {{f[1, 1, 1] - f[1, 1, 2], -f[1, 2, 1] + 
      f[1, 2, 2], -f[1, 3, 1] + f[1, 3, 2]}, {f[2, 1, 1] - f[2, 1, 2],
      f[2, 1, 1] - f[2, 1, 3], -f[2, 2, 1] + f[2, 2, 2], 
     f[2, 2, 2] - f[2, 2, 3]}, {f[3, 1, 1] - f[3, 1, 2], 
     f[3, 1, 1] - f[3, 1, 3], 
     f[3, 1, 1] - f[3, 1, 4], -f[3, 2, 1] + f[3, 2, 2], 
     f[3, 2, 2] - f[3, 2, 3], 
     f[3, 2, 2] - f[3, 2, 4], -f[3, 3, 1] + f[3, 3, 3], -f[3, 3, 2] + 
      f[3, 3, 3], 
     f[3, 3, 3] - f[3, 3, 4], -f[3, 4, 1] + f[3, 4, 4], -f[3, 4, 2] + 
      f[3, 4, 4], -f[3, 4, 3] + f[3, 4, 4]}}
  |>,
 <|"TestID" -> "various2",
  "function" -> Identity,
  "Input" -> {
   matchMatrix = {{{1, 0}, {0, 1}}, {{1, 0, 0}, {0, 1, 0}, {0, 0, 1}}};
   Cmate[matchMatrix];
   Cineqmembers[mate];
   Cinequalities[f, ineqmembers] },
  "ExpectedOutput" -> {{f[1, 1, 1] - f[1, 1, 2] - f[1, 2, 1] + f[1, 2, 2]}, {f[2, 1, 1] - 
   f[2, 1, 2] - f[2, 2, 1] + f[2, 2, 2], 
  f[2, 1, 1] - f[2, 1, 3] - f[2, 3, 1] + f[2, 3, 3], 
  f[2, 2, 2] - f[2, 2, 3] - f[2, 3, 2] + f[2, 3, 3]}}
  |>,
 <|"TestID" -> "various3",
  "function" -> Identity,
  "Input" -> {
   Cmate[{{{1, 1}, {0, 0}, {0, 0}}}];
   {mate, Cineqmembers[mate], Cinequalities[f, ineqmembers]} },
  "ExpectedOutput" -> {{{{{1}, {2}, {3}}, {{1, 
     2}, {}, {}}}}, {{{{{1, 1, 1}, {1, 1, 2}}, {{1, 1, 1}, {1, 1, 
      2}}, {}}, {{{1, 2, 1}, {1, 2, 2}}, {{1, 3, 1}, {1, 3, 
      2}}, {}}}}, {{f[1, 1, 1] + f[1, 1, 2] - f[1, 2, 1] - f[1, 2, 2],
    f[1, 1, 1] + f[1, 1, 2] - f[1, 3, 1] - f[1, 3, 2], 0}}}
  |>,
 <|"TestID" -> "various4",
  "function" -> Identity,
  "Input" -> {
   Cmate[{{{1, 1}, {1, 0}}}];
   {mate, Cineqmembers[mate], Cinequalities[f, ineqmembers]} },
  "ExpectedOutput" -> {{{{{1}, {2}}, {{1, 
     2}, {1}}}}, {{{{{1, 1, 1}, {1, 1, 2}, {1, 2, 1}}}, {{{1, 1, 
      1}, {1, 2, 1}, {1, 2, 2}}}}}, {{f[1, 1, 2] - f[1, 2, 2]}}}
  |>,
 <|"TestID" -> "various5",
  "function" -> Identity,
  "Input" -> {
   Cmate[{{{1, 0}, {0, 1}}}];
   {mate, Cineqmembers[mate], Cinequalities[f, ineqmembers]} },
  "ExpectedOutput" -> {{{{{1}, {2}}, {{1}, {2}}}}, {{{{{1, 1, 1}, {1, 2, 2}}}, {{{1, 1, 
      2}, {1, 2, 1}}}}}, {{f[1, 1, 1] - f[1, 1, 2] - f[1, 2, 1] + 
    f[1, 2, 2]}}}
  |>,
 <|"TestID" -> "various6",
  "function" -> Identity,
  "Input" -> {
   Cmate[{{{1, 1}, {1, 1}}}];
   {mate, Cineqmembers[mate], Cinequalities[f, ineqmembers]} },
  "ExpectedOutput" -> {{{{{1}, {2}}, {{1, 2}, {1, 
     2}}}}, {{{{{1, 1, 1}, {1, 1, 2}, {1, 2, 1}, {1, 2, 2}}}, {{{1, 1,
       1}, {1, 1, 2}, {1, 2, 1}, {1, 2, 2}}}}}, {{0}}}
  |>,
 <|"TestID" -> "various7",
  "function" -> Identity,
  "Input" -> {
   Cmate[{{{1, 1, 0, 0}, {0, 0, 1, 0}, {0, 0, 0, 1}}}];
   {mate, Cineqmembers[mate], Cinequalities[f, ineqmembers]} },
  "ExpectedOutput" -> {{{{{1}, {2}, {3}}, {{1, 
     2}, {3}, {4}}}}, {{{{{1, 1, 1}, {1, 1, 2}, {1, 2, 3}}, {{1, 1, 
      1}, {1, 1, 2}, {1, 3, 4}}, {{1, 2, 3}, {1, 3, 4}}}, {{{1, 1, 
      3}, {1, 2, 1}, {1, 2, 2}}, {{1, 1, 4}, {1, 3, 1}, {1, 3, 
      2}}, {{1, 2, 4}, {1, 3, 3}}}}}, {{f[1, 1, 1] + f[1, 1, 2] - 
    f[1, 1, 3] - f[1, 2, 1] - f[1, 2, 2] + f[1, 2, 3], 
   f[1, 1, 1] + f[1, 1, 2] - f[1, 1, 4] - f[1, 3, 1] - f[1, 3, 2] + 
    f[1, 3, 4], f[1, 2, 3] - f[1, 2, 4] - f[1, 3, 3] + f[1, 3, 4]}}}
  |>,
 <|"TestID" -> "pairwise inequalities (pdf case) 2 - the used one",
  "function" -> Identity,
  "Input" -> {
   Cmate[{{{1, 0, 0}, {1, 0, 0}, {0, 1, 0}, {0, 0, 1}}}];
   {mate, Cineqmembers[mate,"pairwise",{3}], Cinequalities[f, ineqmembers]} },
  "ExpectedOutput" -> {{{{{1}, {2}, {3}, {4}}, {{1}, {1}, {2}, {3}}}}, {{{{{1, 1, 1}}, {{1, 
      1, 1}}, {{1, 2, 1}}, {{1, 2, 1}}, {{1, 3, 2}}, {{1, 3, 2}}, {{1,
       4, 3}}, {{1, 4, 3}}}, {{{1, 1, 2}}, {{1, 1, 3}}, {{1, 2, 
      2}}, {{1, 2, 3}}, {{1, 3, 1}}, {{1, 3, 3}}, {{1, 4, 1}}, {{1, 4,
       2}}}}}, {{f[1, 1, 1] - f[1, 1, 2], f[1, 1, 1] - f[1, 1, 3], 
   f[1, 2, 1] - f[1, 2, 2], 
   f[1, 2, 1] - f[1, 2, 3], -f[1, 3, 1] + f[1, 3, 2], 
   f[1, 3, 2] - f[1, 3, 3], -f[1, 4, 1] + f[1, 4, 3], -f[1, 4, 2] + 
    f[1, 4, 3]}}}
  |>,
 <|"TestID" -> "Inequalities taken in triples (pairs generalization)(1)",
  "function" -> Identity,
  "Input" -> {
   Cmate[{{{1, 1, 0, 0}, {0, 0, 1, 0}, {0, 0, 0, 1}}}];
   {mate, Cineqmembers[mate,"triples"], Cinequalities[f, ineqmembers]} },
  "ExpectedOutput" -> {{{{{1}, {2}, {3}}, {{1, 
     2}, {3}, {4}}}}, {{{{{1, 1, 1}, {1, 1, 2}, {1, 2, 3}, {1, 3, 
      4}}, {{1, 1, 1}, {1, 1, 2}, {1, 2, 3}, {1, 3, 4}}}, {{{1, 1, 
      3}, {1, 2, 4}, {1, 3, 1}, {1, 3, 2}}, {{1, 1, 4}, {1, 2, 1}, {1,
       2, 2}, {1, 3, 3}}}}}, {{f[1, 1, 1] + f[1, 1, 2] - f[1, 1, 3] + 
    f[1, 2, 3] - f[1, 2, 4] - f[1, 3, 1] - f[1, 3, 2] + f[1, 3, 4], 
   f[1, 1, 1] + f[1, 1, 2] - f[1, 1, 4] - f[1, 2, 1] - f[1, 2, 2] + 
    f[1, 2, 3] - f[1, 3, 3] + f[1, 3, 4]}}}
  |>,
 <|"TestID" -> "Inequalities taken in triples (pairs generalization)(2)",
  "function" -> Identity,
  "Input" -> {
   Cmate[{{{1, 0, 0, 0}, {0, 1, 0, 0}, {0, 0, 1, 0}, {0, 0, 0, 1}}}];
   {mate, Cineqmembers[mate,"triples"], Cinequalities[f, ineqmembers]} },
  "ExpectedOutput" -> {{{{{1}, {2}, {3}, {4}}, {{1}, {2}, {3}, {4}}}}, {{{{{1, 1, 1}, {1, 2,
       2}, {1, 3, 3}}, {{1, 1, 1}, {1, 2, 2}, {1, 4, 4}}, {{1, 1, 
      1}, {1, 3, 3}, {1, 4, 4}}, {{1, 2, 2}, {1, 3, 3}, {1, 4, 
      4}}, {{1, 1, 1}, {1, 2, 2}, {1, 3, 3}}, {{1, 1, 1}, {1, 2, 
      2}, {1, 4, 4}}, {{1, 1, 1}, {1, 3, 3}, {1, 4, 4}}, {{1, 2, 
      2}, {1, 3, 3}, {1, 4, 4}}}, {{{1, 1, 2}, {1, 2, 3}, {1, 3, 
      1}}, {{1, 1, 2}, {1, 2, 4}, {1, 4, 1}}, {{1, 1, 3}, {1, 3, 
      4}, {1, 4, 1}}, {{1, 2, 3}, {1, 3, 4}, {1, 4, 2}}, {{1, 1, 
      3}, {1, 2, 1}, {1, 3, 2}}, {{1, 1, 4}, {1, 2, 1}, {1, 4, 
      2}}, {{1, 1, 4}, {1, 3, 1}, {1, 4, 3}}, {{1, 2, 4}, {1, 3, 
      2}, {1, 4, 3}}}}}, {{f[1, 1, 1] - f[1, 1, 2] + f[1, 2, 2] - 
    f[1, 2, 3] - f[1, 3, 1] + f[1, 3, 3], 
   f[1, 1, 1] - f[1, 1, 2] + f[1, 2, 2] - f[1, 2, 4] - f[1, 4, 1] + 
    f[1, 4, 4], 
   f[1, 1, 1] - f[1, 1, 3] + f[1, 3, 3] - f[1, 3, 4] - f[1, 4, 1] + 
    f[1, 4, 4], 
   f[1, 2, 2] - f[1, 2, 3] + f[1, 3, 3] - f[1, 3, 4] - f[1, 4, 2] + 
    f[1, 4, 4], 
   f[1, 1, 1] - f[1, 1, 3] - f[1, 2, 1] + f[1, 2, 2] - f[1, 3, 2] + 
    f[1, 3, 3], 
   f[1, 1, 1] - f[1, 1, 4] - f[1, 2, 1] + f[1, 2, 2] - f[1, 4, 2] + 
    f[1, 4, 4], 
   f[1, 1, 1] - f[1, 1, 4] - f[1, 3, 1] + f[1, 3, 3] - f[1, 4, 3] + 
    f[1, 4, 4], 
   f[1, 2, 2] - f[1, 2, 4] - f[1, 3, 2] + f[1, 3, 3] - f[1, 4, 3] + 
    f[1, 4, 4]}}}
  |>,
 <|"TestID" -> "Inequalities taken in triples (pairs generalization)(3)",
  "function" -> Identity,
  "Input" -> {
   Cmate[{{{1, 1, 0}, {0, 1, 0}, {0, 0, 1}}}];
   {mate, Cineqmembers[mate,"triples"], Cinequalities[f, ineqmembers]} },
  "ExpectedOutput" -> {{{{{1}, {2}, {3}}, {{1, 
     2}, {2}, {3}}}}, {{{{{1, 1, 1}, {1, 1, 2}, {1, 2, 2}, {1, 3, 
      3}}, {{1, 1, 1}, {1, 1, 2}, {1, 2, 2}, {1, 3, 3}}}, {{{1, 1, 
      2}, {1, 2, 3}, {1, 3, 1}, {1, 3, 2}}, {{1, 1, 3}, {1, 2, 1}, {1,
       2, 2}, {1, 3, 2}}}}}, {{f[1, 1, 1] + f[1, 2, 2] - f[1, 2, 3] - 
    f[1, 3, 1] - f[1, 3, 2] + f[1, 3, 3], 
   f[1, 1, 1] + f[1, 1, 2] - f[1, 1, 3] - f[1, 2, 1] - f[1, 3, 2] + 
    f[1, 3, 3]}}}
  |>,
 <|"TestID" -> "Inequalities taken in pairs - various markets (1)",
  "function" -> Identity,
  "Input" -> {
   Cmate[{{{0, 0}, {0, 1}, {1, 1}}, {{0, 1, 0}, {0, 1, 0}}, {{1, 1, 0, 0}, {1, 
   0, 1, 1}, {1, 0, 1, 0}, {1, 1, 1, 1}}}];
   {mate, Cineqmembers[mate], Cinequalities[f, ineqmembers]} },
  "ExpectedOutput" -> {{{{{1}, {2}, {3}}, {{}, {2}, {1, 
     2}}}, {{{1}, {2}}, {{2}, {2}}}, {{{1}, {2}, {3}, {4}}, {{1, 
     2}, {1, 3, 4}, {1, 3}, {1, 2, 3, 
     4}}}}, {{{{{1, 2, 2}}, {{1, 3, 1}, {1, 3, 2}}, {{1, 2, 2}, {1, 3,
       1}, {1, 3, 2}}}, {{{1, 1, 2}}, {{1, 1, 1}, {1, 1, 2}}, {{1, 2, 
      1}, {1, 2, 2}, {1, 3, 2}}}}, {{{{2, 1, 2}, {2, 2, 2}}}, {{{2, 1,
       2}, {2, 2, 2}}}}, {{{{3, 1, 1}, {3, 1, 2}, {3, 2, 1}, {3, 2, 
      3}, {3, 2, 4}}, {{3, 1, 1}, {3, 1, 2}, {3, 3, 1}, {3, 3, 
      3}}, {{3, 1, 1}, {3, 1, 2}, {3, 4, 1}, {3, 4, 2}, {3, 4, 3}, {3,
       4, 4}}, {{3, 2, 1}, {3, 2, 3}, {3, 2, 4}, {3, 3, 1}, {3, 3, 
      3}}, {{3, 2, 1}, {3, 2, 3}, {3, 2, 4}, {3, 4, 1}, {3, 4, 2}, {3,
       4, 3}, {3, 4, 4}}, {{3, 3, 1}, {3, 3, 3}, {3, 4, 1}, {3, 4, 
      2}, {3, 4, 3}, {3, 4, 4}}}, {{{3, 1, 1}, {3, 1, 3}, {3, 1, 
      4}, {3, 2, 1}, {3, 2, 2}}, {{3, 1, 1}, {3, 1, 3}, {3, 3, 1}, {3,
       3, 2}}, {{3, 1, 1}, {3, 1, 2}, {3, 1, 3}, {3, 1, 4}, {3, 4, 
      1}, {3, 4, 2}}, {{3, 2, 1}, {3, 2, 3}, {3, 3, 1}, {3, 3, 3}, {3,
       3, 4}}, {{3, 2, 1}, {3, 2, 2}, {3, 2, 3}, {3, 2, 4}, {3, 4, 
      1}, {3, 4, 3}, {3, 4, 4}}, {{3, 3, 1}, {3, 3, 2}, {3, 3, 3}, {3,
       3, 4}, {3, 4, 1}, {3, 4, 3}}}}}, {{-f[1, 1, 2] + 
    f[1, 2, 2], -f[1, 1, 1] - f[1, 1, 2] + f[1, 3, 1] + 
    f[1, 3, 2], -f[1, 2, 1] + f[1, 3, 1]}, {0}, {f[3, 1, 2] - 
    f[3, 1, 3] - f[3, 1, 4] - f[3, 2, 2] + f[3, 2, 3] + f[3, 2, 4], 
   f[3, 1, 2] - f[3, 1, 3] - f[3, 3, 2] + f[3, 3, 3], -f[3, 1, 3] - 
    f[3, 1, 4] + f[3, 4, 3] + f[3, 4, 4], 
   f[3, 2, 4] - f[3, 3, 4], -f[3, 2, 2] + f[3, 4, 2], -f[3, 3, 2] - 
    f[3, 3, 4] + f[3, 4, 2] + f[3, 4, 4]}}}
  |>,
 <|"TestID" -> "Inequalities taken in pairs - various markets (2)",
  "function" -> Identity,
  "Input" -> {
   Cmate[{{{1, 0}, {0, 1}, {0, 1}}, {{1, 0, 0}, {0, 1, 0}}, {{1, 0, 0, 
     0}, {0, 1, 0, 0}, {0, 0, 1, 0}, {0, 0, 0, 1}}}];
   {mate, Cineqmembers[mate], Cinequalities[f, ineqmembers]} },
  "ExpectedOutput" -> {{{{{1}, {2}, {3}}, {{1}, {2}, {2}}}, {{{1}, {2}}, {{1}, {2}}}, \
{{{1}, {2}, {3}, {4}}, {{1}, {2}, {3}, {4}}}}, {{{{{1, 1, 1}, {1, 2, 
      2}}, {{1, 1, 1}, {1, 3, 2}}, {{1, 2, 2}, {1, 3, 2}}}, {{{1, 1, 
      2}, {1, 2, 1}}, {{1, 1, 2}, {1, 3, 1}}, {{1, 2, 2}, {1, 3, 
      2}}}}, {{{{2, 1, 1}, {2, 2, 2}}}, {{{2, 1, 2}, {2, 2, 
      1}}}}, {{{{3, 1, 1}, {3, 2, 2}}, {{3, 1, 1}, {3, 3, 3}}, {{3, 1,
       1}, {3, 4, 4}}, {{3, 2, 2}, {3, 3, 3}}, {{3, 2, 2}, {3, 4, 
      4}}, {{3, 3, 3}, {3, 4, 4}}}, {{{3, 1, 2}, {3, 2, 1}}, {{3, 1, 
      3}, {3, 3, 1}}, {{3, 1, 4}, {3, 4, 1}}, {{3, 2, 3}, {3, 3, 
      2}}, {{3, 2, 4}, {3, 4, 2}}, {{3, 3, 4}, {3, 4, 3}}}}}, {{f[1, 
     1, 1] - f[1, 1, 2] - f[1, 2, 1] + f[1, 2, 2], 
   f[1, 1, 1] - f[1, 1, 2] - f[1, 3, 1] + f[1, 3, 2], 
   0}, {f[2, 1, 1] - f[2, 1, 2] - f[2, 2, 1] + 
    f[2, 2, 2]}, {f[3, 1, 1] - f[3, 1, 2] - f[3, 2, 1] + f[3, 2, 2], 
   f[3, 1, 1] - f[3, 1, 3] - f[3, 3, 1] + f[3, 3, 3], 
   f[3, 1, 1] - f[3, 1, 4] - f[3, 4, 1] + f[3, 4, 4], 
   f[3, 2, 2] - f[3, 2, 3] - f[3, 3, 2] + f[3, 3, 3], 
   f[3, 2, 2] - f[3, 2, 4] - f[3, 4, 2] + f[3, 4, 4], 
   f[3, 3, 3] - f[3, 3, 4] - f[3, 4, 3] + f[3, 4, 4]}}}
  |>
 }


